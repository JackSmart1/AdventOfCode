interface galaxys  {
    row:number,
    place:number,
    num:number
}

const CosmicExpansion2 = () => {
  const expansin = 999999
  const taskOneInput = `.......................................#..........................................................#......................................#..
  .....................#................................#.....................................................................................
  ....#.....#...................#...............#....................#.....................#.....................#....................#.......
  ............................................................................................................................................
  .................#......................................................#......#..............#....................#........................
  ......................................#.....................................................................................................
  .......................................................#...................................................#..............#.................
  .............................................................#..........................#...................................................
  ............#..............................#.................................#.................................................#............
  #.................................#.............#................#....................................................................#.....
  ....................................................................................#................#......................................
  ....#..........#............#...........................................#..................#..................#...................#.........
  ......................................#...................#.................................................................#.............#.
  ........#....................................#.......#......................................................................................
  ........................................................................................#..........#........................................
  ..#................................................................#........................................................................
  ..............................#...............................................#.....................................#............#..........
  ...................#........................................................................................................................
  ...........#......................#........#................................................................................................
  ...............................................................#.................#.........................#................................
  ......................................................#.....................................#...............................................
  ........#............................................................................#................................#.........#...........
  ................#...........#...............................................................................................................
  .....................#........................#........................#.....................................#............................#.
  ....#........................................................#................#.............................................#...............
  ............................................................................................................................................
  .....................................................................................................#.............#...................#....
  ..........................#...........#.........................................................................................#...........
  #......................................................#.........................................#............#........#....................
  .........#.....................................#....................................#.......................................................
  .................................#..................................#......................................................#........#.......
  .........................................................................................................#..................................
  ......#.............#....................................................#..................................................................
  ..........................#........................................................................................#........................
  .#.......................................#...................#...............#........................#..................#..................
  ..................................#..............#...........................................................#.................#............
  .........#.........................................................#........................#...............................................
  ....................................................................................#.......................................................
  .....#........#............................#...............................#.........................................#......................
  ......................................................................#..................................#..................................
  ............................#..................#........#..............................................................................#....
  .......................#.............#......................................................................................................
  #..........#...................................................#.......................#........................#......#....................
  ....................................................#.............................................#.........................................
  .................................................................................................................................#..........
  ..................................#....................................................................#....................................
  ........#.......................................#............#.....#........#...............................................................
  ............................................................................................................................................
  ............................................................................................................................................
  ..........................#.............................................................#.........................#.........................
  ..#............................#..........#..................................................................................#..............
  ..................#...................................................#.............#.......................#.............................#.
  ............#.................................#........#.....#..............................................................................
  ............................................................................................................................................
  .......................................................................................#..............#.................#...........#.......
  ....................#.....#....................................................#............#.................#.............................
  ....#............................................................................................#..............................#..........#
  ............................................................................................................................................
  ...............................#......................#...............................................................#.....................
  .................................................#...............#..................#.........#.............................#...............
  ........#......#.....................#................................................................................................#.....
  .............................................#.................................#............................................................
  .#......................#..............................................................#................#...................................
  ............#.....#.....................................................................................................#...................
  ..................................#.....................................................................................................#...
  ............................................................................................................................................
  ......#...............................................................#........................#..............................#.............
  .....................#...........................#....................................#..............................#......................
  ............................................................................#...............................................................
  ............#................#........#.......................#.....................................#.......................................
  ............................................................................................#.................#...........#.................
  ...................#................................................................................................................#.......
  ...................................#...................#..........#............#............................................................
  #.........................................#.....#..................................................................#........................
  ............................................................................................................#....................#..........
  ..........#..........................................................#.................................#...................................#
  ............................................................................................................................................
  ......#.................#.......................................................#...............#.........................#.................
  .............................#................#...................#.............................................#...........................
  .............#.......................................#......................#.......#................................#......................
  ........................................#................................................#...........................................#......
  ...................................#........................................................................................................
  .................#...........................................#..............................................................#...............
  .........#................#.......................................................................................#.........................
  .....................#......................................................................................................................
  .#..............................................................#............#..........#.....#.........#...................................
  ......#.................................#.............................#.....................................................................
  ................................................................................................................................#...........
  ......................................................#............................................#....................#..............#....
  .........................#...................#..............................................................................................
  ...............................................................#............#..........#.................#..................................
  ..................................#.........................................................................................................
  ...............#..........................................................................................................#......#..........
  ............................................................................................................................................
  ......#........................................#..................................#................#..................................#.....
  .#..........................#.........#.............................................................................#.......................
  .......................................................#......................#.......#.....................................................
  .............................................................#.................................................................#............
  ...............#......................................................................................#.......#...........................#.
  .....#....................................................................#...................#.............................................
  ..........................#................#.....#................#.........................................................................
  ..................................................................................#.................................#......#...........#....
  .................#..........................................................................................................................
  ..................................#.........................................................................................................
  ...........#.........................................#.................#...............#....................................................
  ................................................................#..............................#..........#....................#............
  ...............#.............#............................#..................#..............................................................
  ..#............................................#...........................................................................#................
  ......................#.....................................................................................................................
  .......................................#.................................#..........................................................#.......
  ...................................................................#........................................................................
  ....#.............#................................................................#..................................#......#..............
  .............................................................#..............................................................................
  .........#................#.....................#.....................#.....#.....................#.......#.................................
  ...................................................................................................................................#........
  ...........................................#...............................................#................................................
  .....................................................#..........#....................#...........................#............#.........#...
  .#.............#......#.....................................................................................................................
  .............................#............................................#..............................#..................................
  .......................................#............................................................................#.......................
  ..................#......................................#............#.............................#.......................................
  .........#................#.....................................................#..............#.............#....................#.......#.
  ..#..............................................................#.........................................................#................
  ...................................#..........#.............................#.........................................................#.....
  ......#..............................................................................................................#......................
  ..............#.............................................................................................................................
  ......................................................#........#.................#.......................................#..................
  ......................#.......#.................#......................................#.......#...............#............................
  ..#..............#.......................#..................................................................................................
  .......................................................................#...................#.............#..................................
  .........#..........................................................................#.................................#.....................
  ......................................#..................#.......................................#....................................#.....
  .........................#............................................................................#.......#.............#...............
  ....................#.........................................#.............................................................................
  ...............#............................................................................................................................
  ......................................................................#...........#........#...................................#............
  .................................#..........#...............................................................................................
  ......#..........................................#............................#....................................#........................
  ...............................................................#...........................................#.............................#..
  ..#.........#..........#.................#..........................................................#.......................................`;
let total = 0
  let splitRows = taskOneInput.split("\n").map((r) => r.trim().split(""));
  let expandedRows: string[][] = [];
  let numOfExpandedRows:number[]=[]
  let numOfExpandedCols:number[]=[]
  for (let i = 0; i < splitRows.length; i++) {
    expandedRows.push(splitRows[i]);
    if (!splitRows[i].includes("#")) {
      numOfExpandedRows.push(i) 
    }}
  let width = expandedRows[0].length;
  let height = expandedRows.length;
  let cols: string[][] = [];

  for (let index = 0; index < width; index++) {
    let test: string[] = [];

    for (let i = 0; i < height; i++) {
      test.push(expandedRows[i][index]);
    }

    cols.push(test);
    if (!test.includes("#")) {
      numOfExpandedCols.push(index) 
    }
  }
let galaxys:galaxys[] = []
let g = 1
  cols.forEach((c,i)=> {
    c.forEach((l,ci) =>{
        if(l === '#'){
            galaxys.push({
                row:i,
                place:ci,
                num:g
            })
            g++
        }
    })
  })
  for (let i = 0; i < galaxys.length; i++) {
    const first = galaxys[i];
    for (let index = i+1; index < galaxys.length ; index++) {
        const second = galaxys[index];
        let a = numOfExpandedCols.filter(n=> n>first.row && n < second.row).length
        let b = 0
        if(first.place < second.place){
        b += numOfExpandedRows.filter(n=> n > first.place && n < second.place).length

        }
        if(second.place < first.place){
        b += numOfExpandedRows.filter(n=> n > second.place && n < first.place).length
       }
        
        total += second.place > first.place ? second.place - first.place : first.place - second.place
        total += first.row > second.row ? first.row - second.row : second.row - first.row
        total += a * expansin
        total += b * expansin
    }
    
  }
  console.log(total)
};

CosmicExpansion2();
